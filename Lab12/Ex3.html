<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
    <head>
        <script>
            
            function checkQuatityTextbox() {
                err_array = isNonNegInt(quantity_textbox.value, true);
                qty_textbox_message.innerHTML = err_array.join(',');
            }
            function isNonNegInt(q, returnErrors = false) {
                errors = []; //assume no errors at first 
                if (Number(q) !=q) errors.push('Not a number!'); 
                if (q < 0) errors.push('Negative value!');
                if (parseInt(q) !=q ) errors.push('Not an Intager!')
                return returnErrors ? errors : (error.Length ==0);
            }
            function displayPurchase () 
            {
                if (isNonNegInt(quantity_form.quantity_textbox.value))
                document.write(`thank you for ordering ${GET['quantity_textbox']} things!`);
        } else {
            alert('Please enter a valid quantity!')
        }


        // get the query string values from form post
        let params = (new URL(document.location)).searchParams;
        GET = {};
        params.forEach(function (value, key) { GET[key] = value });

        if (typeof GET['quantity_textbox'] != 'undefined') {
            displayPurchase();
        }
window.stop
        </script>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, inital-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie-edge">
        <title>Document</title>
        </head>
        <body>
            <form name="quantity_form" action=""
            method="POST">
            <label for = "Quantity_textbox" > quantity desired</label> 
            <input type="text" name= "Quantity_textbox" onkeyup="checkQuantitiyTextbox()"> 
            <span id ='qty_textbox_message'> Enter a quantitiy</span>
            <br>
            <input type= "submit" value="Purchase" onclick="displayPurchase();">
        </form>
        </body></html>